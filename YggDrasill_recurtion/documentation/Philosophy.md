# Философия проекта YggDrasill (всеобъемлющий якорь)

**Назначение:** единый идеологический ориентир всего проекта YggDrasill — *зачем* и *почему*. Философия задаёт основания, принципы и границы онтологии; схема (Scheme) и канон строятся в соответствии с нею. При противоречии пересматриваются схема и реализация, а не философия.

**Область действия:** весь проект; особая опора — линия **YggDrasill_recurtion** (рекурсия, гиперграф, единый контракт run).

**Язык:** русский.

---

## Часть I. Роль философии

1. **Философия — якорь.** Документ Philosophy.md — единственный неизменный ориентир: он задаёт цели, принципы и онтологические границы. Scheme и канон (документация уровней, контракты, планы) должны ей соответствовать.
2. **Единый язык.** Термины (блок, узел, порт, run, гиперграф, переход, state, мир, вселенная, контракт, сериализация, рекурсия) используются согласованно во всей документации и коде.
3. **Расширяемость через контракт.** Новые сущности вводятся через объявленный контракт и реестр; ядро не переписывается под частные случаи.

---

## Часть II. Два начала и синтез

4. **Материальное начало — блок (Block).** Блок хранит и несёт: параметры, данные, конфигурацию, состояние. Он — **атом сборки**: минимальная исполняемая единица с портами и операцией **run**(входы) → выходы.
5. **Идеальное начало — узел гиперграфа (Node).** Узел задаёт **место** и **связи** (гиперрёбра). Он не хранит содержание — только положение в графе и связи с другими узлами.
6. **Синтез: любой блок может стать узлом гиперграфа.** Материя (блок) получает идеальную форму (место и связи). Система как целое — **гиперграф**, узлы которого содержат блоки; по гиперрёбрам передаётся поток (данные или state). **Гиперграф** — снятие двух начал в одном понятии.

---

## Часть III. Единый контракт и иерархия уровней

7. **Единый контракт run.** На всех уровнях иерархии узел для движка — чёрный ящик с операцией **run(inputs) → outputs** (или run(state) → state на уровне мира). Движок не различает, что внутри узла: один блок, вложенный гиперграф или целый пайплайн; он собирает входы, вызывает run узла, раздаёт выходы.
8. **Иерархия уровней.** На каждом уровне структура — **гиперграф**; различается лишь то, что является узлом и что течёт по связям:
   - **Граф задачи:** узлы — блоки-задачи; по рёбрам — данные.
   - **Пайплайн:** узлы — гиперграфы задач; по рёбрам — данные.
   - **Stage (переход):** узлы — пайплайны; по рёбрам — state.
   - **Мир:** узлы — переходы; по рёбрам — state.
   - **Вселенная:** узлы — миры; по рёбрам — обмен (payload_spec).
9. **Рекурсия по уровням.** Выполнение на уровне N сводится к вызову run узлов; узел может быть сущностью уровня N−1 (гиперграф, пайплайн, переход, мир). Run узла делегируется вложенной структуре с тем же контрактом — **рекурсия вызова** без отдельного «режима рекурсии» в движке.

---

## Часть IV. Рекурсия и глубина композиции

10. **Структурная рекурсия.** Сущность может содержать внутри себя сущности того же или нижележащего типа: блок — подблоки; узел гиперграфа — блок-обёртка над вложенным гиперграфом. Глубина вложенности не ограничена онтологией; ограничения — по ресурсам и политике (конфиг, защита от переполнения).
11. **Одноуровневая рекурсия (same-level).** Узел уровня N может быть не только «атомарной» сущностью, но и обёрткой над вложенной структурой того же типа (например, гиперграф, один из узлов которого — подгиперграф; мир, один из переходов которого — подмир). Контракт run сохраняется; реализация — делегирование движку по вложенной структуре.
12. **Рекурсия выполнения.** Один и тот же граф (или узел) может вызываться многократно до сходимости (фикспойнт, критерий останова, num_loop_steps). Это — политика вызова run (run_until, refinement loop), а не новая онтологическая сущность.

---

## Часть V. Итоговые принципы

13. **Рекурсия не есть надстройка.** Она вытекает из единой гиперграфовой формы и единого контракта run; обеспечивается делегированием выполнения вложенным структурам.
14. **Онтология заканчивается на вселенной.** Уровень «метавселенная» в модели не вводится; сообщество и платформа — способ использования вселенных в реальном мире.
15. **Воспроизводимость.** Конфиг структуры и чекпоинты позволяют воспроизводить сценарии; сериализация поддерживает вложенные структуры рекурсивно.

---

*Документ открыт для развития в рамках заданных принципов; противоречия с ним в Scheme или каноне не допускаются.*
