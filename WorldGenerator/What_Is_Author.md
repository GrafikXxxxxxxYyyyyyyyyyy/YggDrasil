# Что такое Автор и как он связан с Создателем

Создатель понятен: он генерирует всё материальное в мире (картинки, звук, видео, 3D). **Автор** часто остаётся непонятным: что он делает, как связан с Создателем, как меняет и влияет на мир. Ниже — максимально конкретно.

---

## 1. Автор одной фразой

**Автор** — это тот, кто **пишет всё текстовое и смысловое** в мире: описания сцен и персонажей, промпты для генерации, правила, глоссарий, стиль. В коде это LLM. Создатель **не придумывает, что рисовать** — он получает от Автора **текст/описание** и по нему генерирует артефакт. Автор = «мозг замысла», Создатель = «руки, которые делают по замыслу».

---

## 2. Что именно делает Автор (по шагам)

Автор **всегда выдаёт текст или структурированные данные** (не картинки и не звук). Конкретно он может:

| Действие Автора | Что на выходе | Куда это идёт |
|-----------------|---------------|----------------|
| Описать сцену или персонажа | Текст: «Высокий воин в синей броне стоит в дождливом лесу» | На вход Создателю как **промпт** и/или в контекст мира |
| Задать стиль мира | «Стиль: тёмное фэнтези, масляная живопись, приглушённые цвета» | В контекст мира (глоссарий/стиль); Создатель при следующих запусках использует это как контекст |
| Задать правила | «Персонажи не носят современную одежду», «все имена — из глоссария» | В контекст мира (правила); при генерации промпт или кондиционирование опираются на эти правила |
| Обновить глоссарий | Имена мест, персонажей, термины мира | В контекст мира; следующий запуск Автора или Создателя может использовать этот глоссарий |
| Описать уже сгенерированную картинку (идеализация) | Создатель сгенерировал артефакт → Автор «видит» его и пишет: «На изображении: воин со шрамом на левой щеке» | В контекст мира; описание привязывается к артефакту; при следующей генерации: «тот же воин, вид сбоку» |
| Сгенерировать сценарий или диалог | Текст сцены, реплики персонажей | В контекст мира; позже по этому сценарию Создатель может сгенерировать кадры, иллюстрации, озвучку |

Итого: **Автор меняет мир тем, что пишет и обновляет всё «идеальное»** (тексты, описания, правила, глоссарий, стиль) и **даёт Создателю вход** — что именно генерировать и в каком контексте.

---

## 3. Как Автор связан с Создателем

Связь идёт **через данные**. Два варианта (в реализации может быть один или оба):

### Вариант A: через общий контекст мира

```
Автор пишет описание сцены / промпт / стиль
    → записывает в контекст мира («идеи», «промпты», «глоссарий»)
    → Создатель при запуске читает из контекста: «последний промпт», «текущий стиль», «правила»
    → Создатель генерирует по этим данным картинку/звук/видео
    → результат сохраняется в контексте мира (артефакты)
```

Автор и Создатель оба работают с общим контекстом мира: Автор пишет «что нужно создать», Создатель читает и пишет «что создано».

### Вариант B: прямой выход Автора → вход Создателя

```
Один шаг цикла «Автор → Создатель»:
    Автор.run() выдаёт текст (промпт + опционально стиль, параметры)
    → этот вывод передаётся как вход в Создатель.run(prompt=..., style=...)
    → Создатель генерирует артефакт
    → артефакт и (опционально) промпт сохраняются в контексте мира
```

На одном шаге выход Автора сразу является входом Создателя; результат сохраняется для следующих шагов.

**В обоих случаях:** Создатель **не придумывает сюжет и не пишет промпты**. Он только «переводит» то, что дал Автор (или что есть в контексте мира), в изображение/звук/видео. **Связь: Автор = источник «что и как генерировать», Создатель = исполнение генерации.**

---

## 4. Как Автор влияет на мир (конкретно)

Автор влияет на мир **тремя способами**:

1. **Задаёт, что генерировать сейчас**  
   Пишет промпт/описание сцены/персонажа → это попадает в Создатель (напрямую или из контекста мира). Создатель по этому тексту генерирует артефакт. Без Автора Создателю пришлось бы получать промпт от пользователя каждый раз; Автор может генерировать промпты сам (сценарий, консистентность с миром).

2. **Задаёт правила и контекст мира**  
   Пишет в контекст мира: стиль, глоссарий, ограничения («только имена из списка», «без современной техники»). Следующие запуски Создателя (или самого Автора) читают этот контекст и генерируют уже **в рамках мира**. Так Автор «меняет мир»: меняет правила и словарь, от которых зависит вся дальнейшая генерация.

3. **Обновляет описание мира по артефактам (идеализация)**  
   Создатель что-то сгенерировал → артефакт попадает в контекст мира. Автор получает этот артефакт (например, картинку) и **описывает его текстом**: что на ней, кто персонаж, какое место. Описание снова пишется в контекст мира. Мир «обогащается»: появляется связь «артефакт ↔ текстовое описание»; при следующих генерациях можно опираться на «того же персонажа», «ту же локацию». Так Автор меняет мир, **реагируя на материю** и переводя её обратно в идею (описание, сценарий, глоссарий).

---

## 5. Простая схема «кто что даёт»

```
                    контекст мира
                         │
    ┌────────────────────┼────────────────────┐
    │                    │                    │
    ▼                    │                    ▼
 Автор                   │                 Создатель
 (LLM)                   │                 (диффузия)
    │                    │                    │
    │  пишет:            │   читает:          │  читает:
    │  • промпты         │   • промпты         │  • промпты
    │  • описания сцен   │   • стиль           │  • стиль
    │  • стиль, правила  │   • правила         │  • правила
    │  • глоссарий       │   • глоссарий       │  (и генерирует
    │  • описание        │                    │   картинку/звук/
    │    артефактов      │   записывает:       │   видео)
    │                    │   • артефакты       │
    │  читает:           │   • промпты (если   │  пишет:
    │  • артефакты       │     сохраняем)      │  • артефакты
    │  (чтобы описать    │                     │    в контекст мира
    │   их текстом)      │                     │
    └────────────────────┴────────────────────┘
```

**Итог:** Автор и Создатель связаны **через общий контекст мира** (и при необходимости прямым передаванием выхода Автора на вход Создателя на одном шаге). Автор влияет на мир, записывая и обновляя текстовую и смысловую часть; Создатель — записывая артефакты; следующий шаг читает уже обновлённый контекст.

---

## 6. Пример одного цикла «Автор → Создатель»

1. В контексте мира уже лежат: стиль «тёмное фэнтези», глоссарий имён персонажей.
2. Запускается шаг **Автор**: он читает стиль и глоссарий, решает «нужна сцена: герой в лесу». Пишет: «Воин Арден в синей броне стоит под дождём у старых дубов, сумеречный свет». Записывает это в контекст мира как «текущий промпт для сцены».
3. Запускается **Создатель**: читает из контекста «текущий промпт» и «стиль: тёмное фэнтези». Генерирует изображение по этому промпту в этом стиле. Сохраняет изображение в контекст мира как артефакт «сцена_1».
4. Мир изменился: в контексте появились новый текст (описание сцены) и новый артефакт (картинка). При следующем запуске Автор может опираться на «сцена_1» и, например, написать диалог для этой сцены или описание следующего кадра.

Так Автор **не генерирует картинки**, но **определяет, какую картинку сгенерирует Создатель**, и **меняет мир**, пополняя и обновляя текстовую часть контекста мира.

---

## 7. Краткие ответы на «непонятно»

| Вопрос | Ответ |
|--------|--------|
| Что должен делать Автор? | Писать всё текстовое и смысловое: промпты для Создателя, описания сцен/персонажей, стиль, правила, глоссарий, описание уже сгенерированных артефактов. |
| Как связать Автора с Создателем? | Через общий контекст мира: Автор пишет «что генерировать» и контекст; Создатель читает и пишет артефакты. Либо на одном шаге: выход Автора сразу передаётся на вход Создателя, результат сохраняется в контексте мира. |
| Как Автор меняет мир? | (1) Задаёт промпты и описания → Создатель по ним генерирует; (2) обновляет в контексте мира правила, стиль, глоссарий → все следующие генерации учитывают этот контекст; (3) описывает артефакты Создателя текстом и пишет в контекст → мир получает связь «артефакт ↔ описание», консистентность растёт. |
| Кто решает, «что нарисовать»? | Автор (текстом). Создатель только исполняет: по тексту/контексту от Автора генерирует картинку/звук/видео. |

Если что-то из этого хочется уточнить под свой сценарий (например, «Автор только генерирует промпты» или «Автор ещё и решает, когда вызывать Создателя»), это можно зафиксировать в конфиге World или в логике цикла; базовая роль Автора от этого не меняется: **источник идей и текста, которые Создатель материализует**.
