# Flux text-to-image generation pipeline
model:
  type: model/modular
  backbone:
    type: backbone/mmdit
    pretrained: "black-forest-labs/FLUX.1-dev"
  codec:
    type: codec/autoencoder_kl
    pretrained: "black-forest-labs/FLUX.1-dev"
    latent_channels: 16
    spatial_scale_factor: 8
  conditioner:
    - type: conditioner/clip_text
      pretrained: "openai/clip-vit-large-patch14"
    - type: conditioner/t5_text
      pretrained: "google/t5-v1_1-xxl"
  guidance:
    - type: guidance/cfg
      scale: 3.5

sampler:
  type: engine/sampler
  num_inference_steps: 28
  guidance_scale: 3.5
  diffusion_process:
    type: diffusion/process/flow/rectified
  solver:
    type: diffusion/solver/heun
