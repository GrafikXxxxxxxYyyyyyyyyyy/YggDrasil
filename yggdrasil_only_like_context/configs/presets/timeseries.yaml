# YggDrasil Preset: Time Series Diffusion
# Модальность: Временные ряды (прогноз, генерация, импутация)
# Процесс: DDPM / Flow Matching

_meta:
  name: "Time Series Diffusion"
  modality: timeseries
  description: "Diffusion model for time series generation and forecasting"

model:
  type: model/modular
  id: timeseries_diffusion

  backbone:
    type: backbone/transformer_1d
    d_model: 256
    num_layers: 6
    num_heads: 8
    max_seq_len: 2048

  codec:
    type: codec/identity          # Работаем напрямую с временными рядами

  conditioner:
    type: conditioner/timeseries_context  # Исторический контекст
    context_length: 512

  guidance:
    type: guidance/cfg
    scale: 1.0                    # Для временных рядов обычно маленький CFG

diffusion_process:
  type: diffusion/process/ddpm
  num_train_timesteps: 1000

solver:
  type: diffusion/solver/ddim

sampler:
  num_inference_steps: 100
  guidance_scale: 1.0

training:
  loss: training/loss/epsilon
  learning_rate: 1.0e-4
  batch_size: 32
  mixed_precision: "no"
  train_mode: full
