# World Generator 2.0

**Свежий старт:** полный рефакторинг и расширение концепции World Generator. Старый каталог `WorldGenerator` сохранён как архив; здесь — целостная модель с нуля, без накопленных противоречий.

---

## Зачем 2.0

- В **WorldGenerator** накопились устаревшие и противоречащие друг другу идеи (два направления графа, размытые границы Автора и Создателя, дублирование в десятках файлов).
- **WorldGenerator_2.0** — один канон: один цикл мира, Автор как два узла (обновление и развитие мира), state из пяти блоков. Вся операционная схема собрана в **[Scheme.md](Scheme.md)**. Философия (Lego, блок/узел, идея/материя) перенесена без изменений в **[Philosophy.md](Philosophy.md)**.

---

## Структура документации

| Документ | Назначение |
|----------|------------|
| **[README.md](README.md)** | Этот файл: цель 2.0, навигация. |
| **[Philosophy.md](Philosophy.md)** | Философская основа (перенесена из WorldGenerator): идея/материя, Block/Node, Lego, World как цикл из пяти звеньев. Не трогаем при операционных правках. |
| **[Scheme.md](Scheme.md)** | **Единый источник правды:** цикл мира, пять переходов, Автор = два узла, state (пять блоков), жизненный цикл, Action/State, граница с артефактами. Всё в одном месте. |
| **[System.md](System.md)** | **Система с основания:** от двух начал (материя/идея) и блока/узла графа до полного цикла мира. Один файл, снизу вверх. |
| **[Abstract_Block_And_Node.md](Abstract_Block_And_Node.md)** | **Полное техническое описание** Abstract Base Block и Abstract Graph Node: что хранят/задают, контракты, порты, рёбра, преобразование блок→узел, примеры, замечания для реализации. |
| **[Abstract_Task_Nodes.md](Abstract_Task_Nodes.md)** | **Уровень над фундаментом:** Abstract Backbone, Solver, Codec, Adapter, Conditioner, Tokenizer, Guidance. Двойное наследование Block+Node, спецификация задачи, порты, выполнение, типичные связи, сборка графа, сериализация. |
| **[Graph_Level.md](Graph_Level.md)** | **Уровень графа:** один граф = **одна цельная задача** (text-to-image, upscale, image-to-video и т.д.). Сборка через Graph.AddNode(...); узлы знают свою роль. |
| **[Pipeline_Level.md](Pipeline_Level.md)** | **Уровень пайплайна:** граф, **узлами которого являются другие графы**; для **комбинированных задач** (текст→картинка→апскейл→видео и т.д.). |
| **[Stage_Level.md](Stage_Level.md)** | **Уровень этапа (Stage):** этап — **граф пайплайнов** (узлы = пайплайны; пайплайн может из одного графа); контракт по state, какие задачи решает. |
| **[World_Level.md](World_Level.md)** | **Уровень мира (World):** мир — **граф этапов**; узлы мира = этапы, по рёбрам передаётся state; цикл (Философ → Автор → Среда → Архитектор → Творец). |
| **[World_Serialization.md](World_Serialization.md)** | **Сериализация мира:** мир как верхняя абстракция полностью задаётся конфигом/шаблоном; из конфига — загрузка, из шаблона — генерация мира, конфиг + чекпоинт — обученный мир. Формат конфига, шаблон, загрузка. |
Дополнительные документы (иерархия уровней, пайплайны, контракты API) добавляются по мере расширения и ссылаются на Scheme.md и Philosophy.md.

---

## Принципы 2.0

1. **Один канон** — операционная схема мира не размазана по файлам; она в Scheme.md.
2. **Один цикл** — порядок выполнения всегда: Философ → Автор → Среда → Архитектор → Творец. Никаких «двух направлений» графа.
3. **Автор = два узла** — World update (State → обновление контента мира) и Development of the world (Action → чтение мира → новый state с блоком 1).
4. **Мир один** — обновляется применением state; новый state создаётся в Development of the world.
5. **Расширение** — новые сущности и возможности вводятся так, чтобы не ломать Scheme.md и Philosophy.md; при противоречии сначала обновляется канон.

---

## С чего начать

1. **[System.md](System.md)** — если нужна картина системы с самого основания (от блока/узла до цикла мира).
2. **[Philosophy.md](Philosophy.md)** — если нужна идеологическая база (Lego, блок/узел, идея/материя).
3. **[Scheme.md](Scheme.md)** — если нужна полная операционная картина: цикл, state, обновление и развитие, жизненный цикл.

Язык — **русский**.
