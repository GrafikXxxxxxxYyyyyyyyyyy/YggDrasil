# Масштабируемость и расширяемость: любые решения и архитектуры

**Принцип:** проект должен быть **абсолютно масштабируем под любые кастомные решения и любые кастомные реализации**. Он должен поддерживать работу с **LLM, VLM, любой диффузионной моделью**, а также **любой нейросетевой архитектурой**.

Канон: [WorldGenerator_2.0/](../WorldGenerator_2.0/) (Abstract_Block_And_Node, Abstract_Task_Nodes, Graph_Level, Philosophy).

---

## 1. Универсальность по классам моделей

Проект не привязан к одному типу модели. Он должен поддерживать:

| Класс | Описание |
|-------|----------|
| **LLM** (языковые модели) | Текстовые генеративные модели (автодополнение, генерация текста, чат). В графе — как блоки с контрактом портов (вход: промпт/контекст, выход: текст/токены). Используются в цикле мира (Автор, Архитектор, Development of the world — по канону Scheme). |
| **VLM** (визуально-языковые модели) | Модели «изображение + текст» (описание изображений, ответы по картинке). Поддержка через те же абстракции: блок с портами входа/выхода, размещение в графе. |
| **Любая диффузионная модель** | Pixel-space, latent-space, flow-matching, consistency, любые солверы и расписания. Backbone, Solver, Codec, Conditioner — абстракции уровня над фундаментом; конкретная архитектура (UNet, DiT, трансформер, 3D UNet и т.д.) — реализация блока. |
| **Любая нейросетевая архитектура** | Не только диффузия: классификация, детекция, эмбеддинги, автоэнкодеры, GAN, любые графы с узлами-блоками. Фундамент (Block, Node, порты, рёбра) и уровень графа не предписывают тип модели — только контракт «входы → выполнение → выходы». |

Итого: **LLM, VLM, любая диффузия, любая нейросеть** встраиваются как блоки (или графы блоков) с объявленными портами и выполнением; проект обеспечивает сборку графов, пайплайнов, этапов и мира поверх этих блоков.

---

## 2. Масштабируемость под кастомные решения

Проект должен быть **полностью масштабируем под любые кастомные решения и кастомные реализации**:

- **Кастомные блоки:** любой новый тип блока (новая архитектура, новый солвер, свой кодек, свой conditioner) реализуется как наследник/реализация Abstract Base Block с объявлением портов и логикой выполнения; регистрация в реестре типов позволяет собирать графы из конфига без изменения ядра.
- **Кастомные графы:** одна задача = один граф; задача может быть любой (текст→текст, изображение→видео, молекула→свойство и т.д.). Сборка через AddNode и рёбра; типичные связи по ролям узлов-задач — подсказка, а не жёсткое ограничение.
- **Кастомные пайплайны и этапы:** пайплайн = граф графов, этап = граф пайплайнов; состав и порядок задаются конфигом и кодом сборки. Новые модальности и сценарии добавляются новыми графами/пайплайнами, а не переписыванием ядра.
- **Кастомный мир:** цикл мира (Философ → Автор → Среда → Архитектор → Творец) и state из пяти блоков заданы каноном; конкретные реализации этапов (какие LLM, какие диффузионные графы) — кастомные. Поддержка любых реализаций через единый контракт этапа по state.

Масштабируемость обеспечивается за счёт: **единого фундамента** (блок, узел, порты, граф), **сериализуемости на всех уровнях** и **отсутствия жёсткой привязки к конкретной архитектуре или семейству моделей**.

---

## 3. Любая нейросетевая архитектура

- **Архитектура** (UNet, Transformer, DiT, GNN, RNN, кастомная схема) — внутреннее дело **блока**. Граф оперирует блоками по контракту портов и вызову выполнения; что внутри блока (слои, внимание, свёртки) — не фиксируется на уровне графа.
- **Новые архитектуры** добавляются как новые типы блоков (или новые реализации Abstract Backbone / Codec / Conditioner и т.д.) с тем же контрактом; граф и пайплайн от этого не меняются.
- **Смешение архитектур** в одном графе/пайплайне допускается: один узел — LLM (трансформер), другой — диффузионный backbone (UNet), третий — кодек (VAE). Связь только по портам и типам данных.

Таким образом, проект **поддерживает любую нейросетевую архитектуру** в рамках единой модели «блок с портами в графе».

---

## 4. Сводка

| Требование | Обеспечение |
|------------|-------------|
| Абсолютная масштабируемость под любые кастомные решения и реализации | Единый фундамент (Block, Node), сериализуемость, реестр типов; граф/пайплайн/этап/мир задаются конфигом и сборкой, без жёсткой привязки к одному сценарию. |
| Поддержка LLM, VLM | Блоки с контрактом портов; в цикле мира Автор и Архитектор — LLM в ядре; любые языковые/визуально-языковые модели подключаются как блоки. |
| Поддержка любой диффузионной модели | Абстракции Backbone, Solver, Codec, Conditioner и т.д.; конкретная диффузия — реализация этих абстракций. |
| Поддержка любой нейросетевой архитектуры | Архитектура инкапсулирована в блоке; граф не зависит от внутреннего устройства блока, только от портов и выполнения. |

Итого: проект задуман как **универсальная платформа**, масштабируемая под любые кастомные решения и поддерживающая **LLM, VLM, любые диффузионные модели и любые нейросетевые архитектуры**.
